## Synthèse
**Total des prompts** : 19 prompts identifiés et documentés

**Principales réalisations** :
1. Création du site Next.js TypeScript
2. Mise en place de la structure (Header, Footer, navigation)
3. Implémentation des boutons footer avec logique métier
4. Mise en place des tests BDD et TDD
5. Séparation backend pur / backend Next.js
6. Création de la page "À propos du site" avec DOD
7. Refactorisation des tests pour montrer une progression TDD explicite

**Fichiers créés** : 20+ fichiers
**Tests** : 31 tests passent
**Commits Git** : 10+ commits documentés

---

## Ce que j'ai fait

Avant de commencer à développer le site, j'ai mis en place l'environnement de travail :

- Installer Cursor
- Installer Git
- Installer NodeJS
- Installer Jest
- Installer Cucumber.js
- Créer un compte GitHub (que j'ai associé à Cursor)
- Créer un compte Vercel (où j'ai créé un projet associé à mon projet sous GitHub)
- Mon premier prompt dans Cursor a été de lui demander d'afficher un "Hello World"
- Après, je n'ai pas arrêté d'enchaîner les prompts :
  - pour faire émerger petit à petit de nouveaux contenus sur le site
  - pour lui demander de refactoriser le code
  - pour lui imposer des BDD et TDD
  - pour recevoir une formation sur la syntaxe en TypeScript et le comportement de Next.JS

---

## Création du site

### Création du projet Next.js
#### Prompt
Affiche "Hello World" / Créer un projet Next.js TypeScript

#### Résultat technique
(commit `8fadf78`) : Création du projet Next.js avec une page affichant "Hello World"

---

## Mise en place de la structure de base

### Ajout du Header et Footer
#### Prompt
Faire deux bandes horizontales bleues (#0070C0). 
- une en haut, qui reste toujours en haut : la têtière
- une en bas, qui reste toujours en bas : le pied de page
Pour une page qui fait 911 pixel de haut, la têtière doit faire 78 et le pied de page 53. Calcule les proportions afin d'avoir un comportement responsive.

#### Résultat technique
(commit `bef5a51`) : Ajout du header et footer fixes avec proportions responsive (`8.75vh` pour header, `5.47vh` pour footer)

### Refactorisation de la couleur en variable CSS
#### Prompt
Faire en sorte que la couleur bleue ne soit pas évoquée directement dans le code par #0070C0 mais plutôt par une variable qui soit nommée "BleuFoncé". Ainsi, si je veux changer la couleur elle sera cohérente sur tout le site.

#### Résultat technique
(commit `a78db21`) : Refactorisation de la couleur bleue en variable CSS `--BleuFonce` dans `globals.css`

### Ajout des images Logo et Photo
#### Prompt
Ajoute maintenant l'image ".\public\images\Logo.png" en haut à gauche et ".\public\images\Photo.png" en haut à droite, qui flotte par dessus la têtière mais dépasse vers le bas.

#### Résultat technique
(commit `c91e55d`) : Ajout des images Logo et Photo flottant au-dessus du header avec `position: absolute` et `overflow: visible`

### Ajustement des proportions des images
#### Prompt
Tu n'as pas respecté les proportions de l'exemple. Voici les consignes pour une page de 914 pixels de haut :
- Début du logo et de la photo : 11 pixels
- Fin de la têtière : 80 pixels
- Fin du logo et de la photo : 110 pixels
- Début du pied de page : 864 pixels
Bien entendu, comme à chaque fois, ceci est un exemple mais doit être exprimé en proportion pour être responsive.

#### Résultat technique
(commit `2fc84fe`) : Ajustement des proportions basé sur référence 914px (header 80px, logo/photo 11px-110px, footer 50px) avec calculs en pourcentages responsive

### Ajout des espacements latéraux
#### Prompt
J'ai oublié de préciser : il faut aussi 11 pixels à gauche du logo et 11 pixels à droite de la photo.

#### Résultat technique
(commit `4402c46`) : Ajout de 11px d'espacement à gauche du logo et à droite de la photo (`left: max(11px, 1.2vw)`, `right: max(11px, 1.2vw)`)

---

## Implémentation des boutons footer

### Création des boutons icônes footer
#### Prompt
Remplissons le pied de page avec les fonctions qui doivent être toujours disponibles. Elles seront représentées par des boutons icône.
- verticalement au centre du pied de page
- horizontalement à 11 pixels du bord droit.
La liste des boutons et la "commande" associée sera décrite dans un fichier JSON à stocker dans le projet.
Les 4 premiers boutons sont stockés dans "\public\images" et sont :
- Bouton - email.JPG
- Bouton - YouTube.JPG
- Bouton - Linkedin.JPG
- Bouton - Site map.JPG
Les commandes respectives sont :
- cmd-email
- cmd-YouTube
- cmd-Linkedin
- cmd-SiteMap

#### Résultat technique
Création de `data/footerButtons.json`, composant `Footer` avec boutons icônes, centrage vertical et positionnement à 11px du bord droit

### Ajustement de la hauteur des images à 60%
#### Prompt
Met les images à 60% de la hauteur du pied de page.

#### Résultat technique
Ajustement de la hauteur des images à 60% de la hauteur du footer

### Implémentation des handlers de clic
#### Prompt
As-tu implémenté du code pour les 4 commandes ? Sinon, fait le : le clic doit afficher dans une pop-up le nom de la commande.

#### Résultat technique
Implémentation du handler `handleButtonClick` avec `alert()` pour afficher le nom de la commande

### Ajout des URLs dans le JSON
#### Prompt
Ajout dans le JSON un champ pour chaque bouton afin d'y préciser l'URL qui doit être appelée. Les valeurs sont :
- mailto:alain@maep.fr
- https://www.youtube.com/@m-alain-et-possible
- https://www.linkedin.com/in/alain-meunier-maep/
- la pop-up actuelle en attendant qu'on fasse la page "site map"

#### Résultat technique
(commit `a820253`) : Ajout du champ `url` dans `footerButtons.json` et modification du handler pour gérer les URLs externes avec `window.open()`

### Ajout des tooltips
#### Prompt
Ajoute des infos bulles sur les 4 boutons. Le texte de l'info bulle doit être ajouté au JSON. Les valeurs sont :
- M'envoyer un email
- Accéder à ma chaîne YouTube
- Accéder à mon profil Linkedin
- Consulter le plan du site

#### Résultat technique
Ajout du champ `tooltip` dans `footerButtons.json` et de l'attribut `title` sur les boutons

### Ajout des tooltips sur Header
#### Prompt
L'info bulle du logo est "Home page" et celle de la photo est "À propos de moi".

#### Résultat technique
Ajout des attributs `title` sur les images du header (Logo et Photo)

---

## Mise en place des tests et BDD/TDD

### Installation et exécution des tests
#### Prompt
J'ai installé Jest et Cucumber et j'ai créé un test unitaire et un BDD. Lance les tests. Ils devraient échouer.

#### Résultat technique
Exécution des tests, identification des erreurs de configuration (jest-environment-jsdom, identity-obj-proxy, etc.)

### Refactorisation pour BDD/TDD
#### Prompt
On va maintenant faire des BDD et TDD. Refactorise le code pour faire émerger des tests TDD et BDD pour les premières fonctionnalités qu'on a développées. A priori ça sera les 4 boutons en pied de page.

#### Résultat technique
Création des tests BDD (`tests/bdd/footer.feature`, `tests/bdd/footer.steps.ts`) et tests unitaires (`tests/unit/FooterButton.test.tsx`)

### Correction du scénario BDD footer
#### Prompt
Dans le BDD ce n'est pas "Given the homepage is loaded" mais "Given le pied de page est affiché". En effet, le "pied de page" sera présent sur toutes les pages (futures) et pas seulement sur la homepage.

#### Résultat technique
Correction des scénarios BDD pour utiliser "Given the footer is displayed" au lieu de "Given the homepage is loaded"

### Cohérence de la langue dans les BDD
#### Prompt
Pardon, je n'avais pas vu que les BDD étaient écrits en anglais. Il faut rester cohérent.

#### Résultat technique
Confirmation que les scénarios BDD sont en anglais (cohérent avec les conventions Gherkin)

### Création des pages et scénarios BDD
#### Prompt
Écrire des scénarios BDD pour les besoins suivants :
- je peux avoir une page "À propos de moi"
- elle affichera pour le moment "à propos de moi" (au lieu de "Hello World")
- je veux qu'elle s'affiche quand on clique sur ma photo
- je veux une page "Plan du site"
- je veux qu'elle s'affiche quand je clique sur le bouton "plan du site"
- elle affichera pour le moment "plan du site" (au lieu de "Hello World")
- remplace sur la home page "Hello World" par "Home page"

#### Résultat technique
Création de `app/about/page.tsx`, `app/sitemap/page.tsx`, modification de `app/page.tsx`, création des scénarios BDD dans `tests/bdd/navigation.feature` et `tests/bdd/navigation.steps.ts`, ajout de la navigation dans Header et Footer

### Factorisation de Header et Footer
#### Prompt
Les pages "à propos de moi" et "plan du site" doivent reprendre les "header" et "le footer". Ils doivent donc être factorisés.

#### Résultat technique
Factorisation de Header et Footer dans `app/layout.tsx` pour être partagés par toutes les pages

---

## Création de la page "À propos du site" avec DOD

### Ajout du bouton "À propos du site"
#### Prompt
Je souhaite que ce site explique aussi qu'il a été fait par un Product Manager qui a piloté une IA en lui imposant des bonnes pratiques. Ces bonnes pratiques sont décrites dans une "Définition of Done"
Dans les boutons présents dans le footer ajoute un bouton "à propos du site". Cette page répond aux mêmes règles que les autres pages. Rédige-moi une "définition of done" basée sur les bonnes pratiques que tu as appliquées. Affiche cette "DOD" dans la page "à propos du site".

#### Résultat technique
Création de `DEFINITION_OF_DONE.md`, création de `app/about-site/page.tsx`, ajout du bouton "À propos du site" dans `footerButtons.json`, création de `utils/markdownParser.ts` pour parser le markdown

### Partage de la DOD entre IA, Product Manager et site
#### Prompt
La DOD doit être partagée entre moi, toi et le site web à travers un fichier au format MD à la racine du projet.
- Toi : tu dois toujours coder en la respectant
- Moi : je peux la modifier, avec l'aide d'ami crafter, pour améliorer tes pratiques
- Le site web : la page "à propos de ce site" doit afficher le fichier "MD"

#### Résultat technique
Le fichier `DEFINITION_OF_DONE.md` est lu à build time par `app/about-site/page.tsx` et affiché avec le style défini dans `about-site.module.css`

---

## Refactorisation et séparation des préoccupations

### Séparation backend pur / backend Next.js
#### Prompt
Quand je t'ai demandé de refactoriser le code pour avoir une belle architecture et que nous avons ajouté TDD et BDD, tu as forcément séparé "backend pur" et "backend Next.js" non ? Si ce n'est pas le cas, il faut le faire et l'ajouter dans la DOD.

#### Résultat technique
(commit `386f589`) : Séparation backend pur / backend Next.js :
- Création de `utils/buttonHandlers.ts` (logique métier pure)
- Création de `utils/markdownParser.ts` (logique métier pure)
- Refactorisation de `Footer.tsx` pour utiliser `getButtonAction` de `utils/buttonHandlers.ts`
- Mise à jour de `DEFINITION_OF_DONE.md` pour inclure cette séparation

### Vérification des tests unitaires pour utils
#### Prompt
On devrait donc avoir des tests unitaires pour toutes les fonctions dans \utils. Est-ce le cas ?

#### Résultat technique
Création de `tests/unit/buttonHandlers.test.ts` et `tests/unit/markdownParser.test.ts` pour toutes les fonctions exportées dans `utils/`

---

## Exploration du code et refactorisation TDD

### Refactorisation des tests pour montrer l'approche TDD
#### Prompt
Me confirme-tu que les tests ont bien été écrits dans une approche TDD c'est-à-dire :
- le premier test est le test du cas le plus simple du comportement attendu de la fonction
- s'il passe, on refactorise le code et on crée le cas suivant
- ainsi de suite.
La structure des tests montre-t-elle que c'est cette démarche qui a été suivie, ou bien comme les tests ont été écrits après, alors que le code existait déjà, cela a faussé la démarche ?
Si les tests actuels ne sont pas une bonne illustration de la bonne pratique, refactorise le tout pour corriger ça.
Cela doit se voir sans ambiguïté en lisant les tests dans l'ordre, avec une complexité des exigences qui augmente.

#### Résultat technique
Refactorisation complète des tests avec progression explicite (ITÉRATION 1, 2, 3...) dans :
- `tests/unit/markdownParser.test.ts` - Commentaires explicites : "APPROCHE TDD : Les tests montrent la progression du simple au complexe"
  - ITÉRATION 1 : Le cas le plus simple - juste extraire le titre
  - ITÉRATION 2 : Ajouter l'extraction de la description
  - ITÉRATION 3 : Ajouter l'extraction d'un thème avec un seul item
  - ITÉRATION 4 : Ajouter plusieurs items dans un thème
  - ITÉRATION 5 : Ajouter plusieurs thèmes
  - ITÉRATION 6 : Cas limites et robustesse
- `tests/unit/buttonHandlers.test.ts` - Commentaires explicites : "APPROCHE TDD : Les tests montrent la progression du simple au complexe"
  - ITÉRATION 1 : Le cas le plus simple - une commande mappe à une route
  - ITÉRATION 2 : Ajouter une deuxième commande
  - ITÉRATION 3 : Gérer les commandes inconnues
  - ITÉRATION 4 : Ajouter la logique de navigation interne/externe
  - ITÉRATION 5 : Ajouter les actions (internal, external, alert)
  - ITÉRATION 6 : Cas limites et combinaisons complexes

**Résultat** : 31 tests passent, tous structurés pour montrer la démarche TDD authentique

---

## Formation et documentation

### Formation Git
#### Prompt
Je suis complètement perdu avec GIT. J'ai des "review" et "open PR" qui apparaissent et je ne sais pas quoi faire. J'ai besoin d'une formation.

#### Résultat technique
Création du fichier `JOURNAL_DE_BORD/COURS/FORMATION_GIT.md` avec une formation complète sur Git adaptée aux Product Managers. Explication des concepts (Git, GitHub, branches, PRs), workflow simple, gestion des alertes GitHub, commandes essentielles.

### Organisation du journal de bord
#### Prompt
Pour faciliter la rédaction du journal, à chaque fois que je fais un prompt :
- vérifier qu'il existe un fichier pour la journée courante dans le dossier "journal de bord"
- s'il n'existe pas, créer le
- ajouter le prompt dans ce fichier dans le même format que pour le fichier créé aujourd'hui
En fin de journée je n'aurai qu'à relire les prompts, supprimer ceux qui traitent de détails et ne sont pas intéressants.
Lorsque je te pose des questions théoriques (formation) mettre les réponses au format MD dans un sous dossier "COURS" du dossier "JOURNAL de BORD". Fais le pour ce que tu viens de m'expliquer pour Git.

#### Résultat technique
- Création du dossier `JOURNAL_DE_BORD/COURS/`
- Déplacement de la formation Git vers `JOURNAL_DE_BORD/COURS/FORMATION_GIT.md`
- Système mis en place pour documenter automatiquement chaque prompt dans le journal du jour (format YYYY-MM-DD.md)
- Ce prompt ajouté au journal du jour

### Explication du cycle de vie d'une requête HomePage
#### Prompt
Dans "COURS" explique moi ce qui se passe, pas à pas, lorsqu'un client appelle la HomePage du site.

#### Résultat technique
Création du fichier `JOURNAL_DE_BORD/COURS/CYCLE_VIE_REQUETE_HOMEPAGE.md` avec une explication pédagogique détaillée en 13 étapes, depuis la requête HTTP jusqu'à l'interactivité complète de la page. Explication des concepts Server Components vs Client Components, processus de rendu (SSR + Hydratation), navigation client-side, et liens avec les principes du projet (séparation des préoccupations).

### Ajout de la tenue du journal dans la DOD
#### Prompt
Ajoute à la DOD la tenu du journal - les prompts de modification du code dans le fichier YYYY-MM-DD.md - les prompts de formation dans le sous dossier "COURS"

#### Résultat technique
Ajout de la règle dans `DEFINITION_OF_DONE.md` section 1 "Structure et Organisation" : **Tenue du journal de bord** - Documentation automatique de chaque prompt dans `JOURNAL_DE_BORD/YYYY-MM-DD.md` avec le texte exact et le résultat technique. Les prompts de formation/théoriques sont documentés dans `JOURNAL_DE_BORD/COURS/` et référencés dans le journal du jour.

---
