@import "tailwindcss";

/* ============================================
   POLICES CHARGÉES LOCALEMENT
   Toutes les polices sont servies depuis le domaine pour garantir la disponibilité sur tous les navigateurs
   ============================================ */

/* Police Clint Marker - Utilisée pour les boutons */
@font-face {
  font-family: 'Clint Marker';
  src: url('/fonts/ClintMarker.woff2') format('woff2'),
       url('/fonts/ClintMarker.woff') format('woff'),
       url('/fonts/ClintMarker.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* Police Outfit - Utilisée pour les titres et le texte (moderne, spacieuse mais compacte) */
@font-face {
  font-family: 'Outfit';
  src: url('/fonts/Outfit-Regular.woff2') format('woff2'),
       url('/fonts/Outfit-Regular.woff') format('woff'),
       url('/fonts/Outfit-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Outfit';
  src: url('/fonts/Outfit-SemiBold.woff2') format('woff2'),
       url('/fonts/Outfit-SemiBold.woff') format('woff'),
       url('/fonts/Outfit-SemiBold.ttf') format('truetype');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Outfit';
  src: url('/fonts/Outfit-Bold.woff2') format('woff2'),
       url('/fonts/Outfit-Bold.woff') format('woff'),
       url('/fonts/Outfit-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Base responsive site entier : forcer la taille racine pour que tout scale (rem/em).
   clamp : min 14px (mobile), croît doucement, max 18px (grands écrans).
   Cible : 16px sur écran standard (1200-1400px). */
html {
  font-size: clamp(0.875rem, 0.8rem + 0.2vw, 1.125rem) !important;
}

:root {
  /* Couleurs (intention, pas nom de teinte) */
  --CouleurFoncé: #0070C0;
  --CouleurClaire: #E7F6FF;
  --Noir: #171717;
  --Noir-10: rgba(23, 23, 23, 0.1);
  --Blanc: #ffffff;
  --Transparent: transparent;

  /* Rétrocompat */
  --background: var(--Blanc);
  --foreground: var(--Noir);
  --BleuFonce: var(--CouleurFoncé);
  --BleuClair: var(--CouleurClaire);
  --largeurDeTexteMax: 78.125rem;

  /* Force le mode clair */
  color-scheme: light;

  /* Tailles de police (concepts) */
  --enorme: 2rem;
  --grande: 1.5rem;
  --moyenne: 1.25rem;
  --normale: 1rem;
  --petite: 0.8rem;

  /* Types sémantiques pour les titres
     h1 : contexte TitreDePage (header bleu) = --enorme, blanc — contexte Hero = à définir
     h2 : --grande, noir
     h3 : --normale (même taille que texte), gras, bleu
     h4 : --petite (comme notes), gras, noir */
  --h1-font-size: var(--enorme);
  --h1-font-weight: 700;
  --h1-color: var(--Noir);
  --h1-line-height: 1.2;
  --h2-font-size: var(--grande);
  --h2-font-weight: 700;
  --h2-color: var(--Noir);
  --h2-line-height: 1.3;
  --h3-font-size: var(--normale);
  --h3-font-weight: 700;
  --h3-color: var(--CouleurFoncé);
  --h3-line-height: 1.4;
  --h4-font-size: var(--petite);
  --h4-font-weight: 700;
  --h4-color: var(--Noir);
  --h4-line-height: 1.4;

  /* Paragraphe (--p) : taille --normale, graisse 400. --n, --a idem 400. */
  --p-font-size: var(--normale);
  --p-font-weight: 400;
  --p-color: var(--Noir);
  --p-line-height: 1.4;
  --a-font-size: var(--normale);
  --a-font-weight: 400;
  --a-font-style: italic;
  --a-color: var(--Noir);
  --n-font-size: var(--petite);
  --n-font-weight: 400;
  --n-color: var(--Noir);
  --n-line-height: 1.3;

  /* Listes l1, l2 */
  --l1-font-size: var(--normale);
  --l1-color: var(--Noir);
  --l1-line-height: 1.3;
  --l2-font-size: var(--petite);
  --l2-color: var(--Noir);

  /* Lien cliquable (lk), bouton (b) */
  --lk-font-size: var(--normale);
  --lk-font-weight: 600;
  --lk-color: var(--CouleurFoncé);
  --lk-text-decoration: underline;
  --b-font-size: var(--normale);
  --b-font-weight: 600;
  --b-background: var(--CouleurFoncé);
  --b-color: var(--Blanc);

  /* Boutons (existant, aligné sur tokens) */
  --BoutonCouleur: var(--Blanc);
  --BoutonCouleurFond: var(--CouleurFoncé);
  --BoutonCouleurFondHover: #005A9E;
  --BoutonCouleurTexteHover: var(--BoutonCouleur);
  --BoutonPolice: 'Outfit', sans-serif;
  --BoutonTaillePolice: var(--normale);
  --BoutonPoidsPolice: 600;
  --BoutonContour: none;
  --BoutonContourRadius: 0;  /* Bords carrés */
  --BoutonTransition: all 0.15s ease;
  --BoutonOmbre: 0 0.125rem 0.25rem rgba(0, 112, 192, 0.15);
  --BoutonOmbreHover: 0 0.125rem 0.25rem rgba(0, 112, 192, 0.15);  /* Pas de changement d'ombre au hover */
  --BoutonTransformHover: none;  /* Pas de mouvement au hover */
  --BoutonTransformActive: translateY(2px);  /* Effet enfoncé au clic */
  --BoutonOmbreActive: inset 0 2px 4px rgba(0, 0, 0, 0.2);  /* Ombre intérieure au clic */
  --BoutonPaddingVertical: 0.75rem;
  --BoutonPaddingHorizontal: 1.5rem;

  /* Alias pour compat */
  --color-text-default: var(--Noir);

  /* Profil : min-height (em = dynamique selon taille de police) pour aligner entre cartes */
  --profil-titre-min-height: 2.8em;
  --profil-jobtitles-min-height: 4em;

  /* Alerte / erreur (popup droits d'auteur, etc.) */
  --couleur-alerte: #dc2626;
  --couleur-alerte-fond: #ffffff;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: 'Outfit', sans-serif; /* Police pour les titres */
  --font-serif: 'Outfit', sans-serif; /* Police pour le corps de texte (même famille) */
  --font-mono: 'Courier New', monospace; /* Police pour le code */
}

/* Mode sombre automatique désactivé pour préserver la lisibilité sur mobile
   Le site reste en mode clair pour garantir un contraste optimal */
/* @media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
} */

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 1rem; /* Hérite de html, scale avec viewport */
}

/* Application des tokens aux titres */
h1, h2, h3 {
  text-align: center;
}

h1 {
  font-size: var(--h1-font-size);
  font-weight: var(--h1-font-weight);
  color: var(--h1-color);
  line-height: var(--h1-line-height);
}

h2 {
  font-size: var(--h2-font-size);
  font-weight: var(--h2-font-weight);
  color: var(--h2-color);
  line-height: var(--h2-line-height);
}

h3 {
  font-size: var(--h3-font-size);
  font-weight: var(--h3-font-weight);
  color: var(--h3-color);
  line-height: var(--h3-line-height);
}

h4 {
  font-size: var(--h4-font-size);
  font-weight: var(--h4-font-weight);
  color: var(--h4-color);
  line-height: var(--h4-line-height);
}

/* Paragraphes */
p {
  font-size: var(--p-font-size);
  font-weight: var(--p-font-weight);
  color: var(--p-color);
  line-height: var(--p-line-height);
}

/* Liens cliquables */
a, .lien {
  font-size: var(--lk-font-size);
  font-weight: var(--lk-font-weight);
  color: var(--lk-color);
  text-decoration: var(--lk-text-decoration);
}

/* Notes (petite taille) */
.note {
  font-size: var(--n-font-size);
  font-weight: var(--n-font-weight);
  color: var(--n-color);
  line-height: var(--n-line-height);
}

/* Auteur (italique) */
.auteur {
  font-size: var(--a-font-size);
  font-weight: var(--a-font-weight);
  font-style: var(--a-font-style);
  color: var(--a-color);
}

/* Listes niveau 1 */
ul, ol {
  font-size: var(--l1-font-size);
  color: var(--l1-color);
  line-height: var(--l1-line-height);
}

/* Listes niveau 2 (imbriquées) */
ul ul, ol ol, ul ol, ol ul {
  font-size: var(--l2-font-size);
  color: var(--l2-color);
}

/* Bouton standard */
.bouton, button {
  font-size: var(--b-font-size);
  font-weight: var(--b-font-weight);
  background: var(--b-background);
  color: var(--b-color);
  border: none;
  padding: var(--BoutonPaddingVertical) var(--BoutonPaddingHorizontal);
  border-radius: var(--BoutonContourRadius);
  cursor: pointer;
  transition: var(--BoutonTransition);
}

.bouton:hover, button:hover {
  background: var(--BoutonCouleurFondHover);
  box-shadow: var(--BoutonOmbreHover);
  transform: var(--BoutonTransformHover);
}

.bouton:active, button:active {
  transform: var(--BoutonTransformActive);
  box-shadow: var(--BoutonOmbreActive);
}

* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Skip link pour accessibilité — invisible sauf au focus clavier */
.skip-link {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--BleuFonce, #0070C0);
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 0.25rem;
  text-decoration: none;
  font-weight: 600;
  z-index: 10000;
  transition: top 0.2s ease-in-out;
}

.skip-link:focus {
  top: 1rem;
  outline: 2px solid white;
  outline-offset: 2px;
}
