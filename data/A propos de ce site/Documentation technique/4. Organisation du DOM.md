# Organisation du DOM

*Guide pour le Designer : structure HTML, containers, attributs data-**

---

## 4.1 Principe Général

Le site utilise une **architecture DOM déclarative** : chaque concept métier est identifiable par sa **classe racine** et ses **attributs data-***. Le Designer cible ces éléments dans le CSS sans modifier le code React.

**Source de vérité** : `constants/canonicalSpec.ts` définit :
- Les noms canoniques (ex. `hero.titre`, `competence.description`)
- Les types hiérarchiques (ex. `--h1`, `--p`, `--n`)
- Les containers parents et layouts

---

## 4.2 Classes Racine (Types de Contenu)

Chaque type de contenu a une **classe racine unique** sur son élément conteneur :

| Concept | Classe racine | Description |
|---------|---------------|-------------|
| `hero` | `.hero` | Bandeau d'accueil (titre, sous-titre, description, CTA, vidéo) |
| `titre` | `.titre` | Titre de section (bande bleue) |
| `titreDePage` | `.titreDePage` | Titre de la page (dans le header) |
| `texteLarge` | `.texteLarge` | Bloc de texte avec paragraphes |
| `video` | `.video` | Incrustation YouTube |
| `domaineDeCompetence` | `.domaineDeCompetence` | Bloc domaine (titre, contenu, compétences) |
| `competence` | `.competence` | Carte compétence |
| `experienceEtApprentissage` | `.experienceEtApprentissage` | Ligne d'expérience |
| `callToAction` | `.callToAction` | Bouton d'action (lien interne) |
| `groupeDeBoutons` | `.groupeBoutons` | Groupe de boutons |
| `listeDesPages` | `.listeDesPages` | Plan du site |
| `blocsProfils` | `.blocsProfils` | Grille de profils |
| `profil` | `.profil` | Carte profil |
| `temoignages` | `.temoignages` | Liste de témoignages |
| `temoignage` | `.temoignage` | Carte témoignage |
| `listeDeDetournementsVideo` | `.listeDeDetournementsVideo` | Liste de détournements |
| `detournementVideo` | `.detournementVideo` | Carte détournement |

### Convention de Nommage

- **camelCase** : un mot si possible (`hero`, `titre`), sinon plusieurs (`domaineDeCompetence`)
- **Sous-éléments** : reprennent le nom du concept → `.hero .titre`, `.competence .description`
- **Préfixe `ui-`** : éléments de structure non métier (ex. `.ui-heroGauche`, `.ui-heroDroite`)

---

## 4.3 Types de Contenu et leurs Propriétés

Chaque type de contenu avec ses propriétés et leur type hiérarchique (source : `constants/canonicalSpec.ts`).

### titreDePage

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `texte` | `--h1` | Titre de la page (dans le header bleu) |

### hero

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `titre` | `--h1` | Titre principal |
| `sousTitre` | `--h2` | Sous-titre |
| `description` | `--p` | Description (Markdown: **gras**, \n) |
| `callToAction` | `--lk` | Lien CTA (aspect bouton) |
| `ensavoirplus` | `--lk` | Lien "En savoir plus" |
| `video` | `--v` | Vidéo YouTube (dans hero.droite) |

### titre

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `texte` | `--h2` | Titre de section (bande bleue) |

### texteLarge

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `texte` | `--p` | Bloc de texte (Markdown: **gras**, \n\n) |

### video

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `urlYouTube` | `--v` | URL de la vidéo YouTube |

### profil

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `titre` | `--h2` | Titre du profil |
| `jobTitles` | `--n` | Liste des job titles (note) |
| `jobTitle` | `--l1` | Job title individuel (liste) |
| `slug` | `--m` | Identifiant (métadonnée, non affiché) |
| `route` | `--b` | Lien vers le profil (bouton) |
| `cvPath` | `--lk` | Lien vers le CV (PDF) |

### temoignage

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `photo` | `--photo` | Photo du témoin |
| `nom` | `--h3` | Nom du témoin |
| `fonction` | `--n` | Fonction (note) |
| `temoignage` | `--p` | Texte du témoignage (Markdown: \n\n) |

### domaineDeCompetence

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `titre` | `--h2` | Titre du domaine |
| `contenu` | `--p` | Description (Markdown: **gras**, \n) |
| `auteur` | `--a` | Auteur de la citation (italique) |

### competence

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `titre` | `--h3` | Titre de la compétence |
| `description` | `--p` | Description (Markdown: **gras**, [lien](url)) |
| `auteur` | `--a` | Auteur de la citation (italique) |
| `image.src` | `--img` | Image illustrative |
| `image.alt` | `--n` | Texte alternatif (note) |
| `bouton.action` | `--lk` | Lien optionnel |

### experienceEtApprentissage

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `categorie` | `--m` | Catégorie (métadonnée) |
| `description` | `--n` | Description (Markdown: **gras**) |
| `periode` | `--m` | Période (métadonnée) |

### callToAction

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `action` | `--lk` | Lien (aspect bouton) |

### bouton (dans groupeDeBoutons)

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `command` | `--lk` | Lien du bouton |

### detournementVideo

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `titre` | `--h2` | Titre du détournement |
| `pitch` | `--p` | Pitch (Markdown: **gras**) |
| `date` | `--n` | Date (note) |
| `titreVideoDetournee` | `--h3` | Titre vidéo détournée |
| `videoDetournee` | `--v` | Vidéo détournée |
| `droitsAuteur` | `--n` | Droits d'auteur (tooltip) |
| `linkedin` | `--n` | Lien LinkedIn (note) |
| `titreVideoOriginale` | `--h3` | Titre vidéo originale |
| `videoOriginale` | `--v` | Vidéo originale |

### listeDesPages

| Propriété | Type hiérarchique | Description |
|-----------|-------------------|-------------|
| `page` | `--l1` | Élément de liste (lien vers page) |

---

## 4.4 Containers Implicites

Chaque propriété (non container) reçoit un **container implicite** `[nomCanonique].cont` :

```
hero
├── hero.cont (container)
│   ├── hero.gauche.cont
│   │   ├── hero.titre.cont → hero.titre (--h1)
│   │   ├── hero.sousTitre.cont → hero.sousTitre (--h2)
│   │   ├── hero.description.cont → hero.description (--p)
│   │   ├── hero.callToAction.cont → hero.callToAction (--lk)
│   │   └── hero.ensavoirplus.cont → hero.ensavoirplus (--lk)
│   └── hero.droite.cont
│       └── hero.video.cont → hero.video (--v)
```

**Utilité** : Permet de styler le container (padding, margin, background) indépendamment du contenu.

---

## 4.5 Attributs data-*

### data-layout

Indique la mise en page attendue pour les listes et containers :

| Conteneur | data-layout | Comportement |
|-----------|-------------|--------------|
| `blocsProfils` | `4 columns x 1 row` | Grille 4 colonnes |
| `temoignages` | `2 columns x N rows` | Grille 2 colonnes |
| `domaineDeCompetence .competences` | `3 columns x 1 row` | 3 compétences en ligne |
| `listeDesExperiencesEtApprentissages` | `accordeon, X rows` | Accordéon (fermé par défaut) |
| `listeDeDetournementsVideo` | `X rows` | Liste verticale |
| `listeDesPages` | `draw with page properties` | Rendu dynamique par zone |
| `droitsAuteur` | `tooltip, droits d'auteur` | Popup au clic |

**Usage CSS** :
```css
[data-layout="4 columns x 1 row"] {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
}

[data-layout^="accordeon"] {
  /* styles accordéon */
}
```

### data-container-id

Identifie le container pour le mode lecture et le debug :

```html
<div class="hero" data-container-id="hero.cont">
  <div class="ui-heroGauche" data-container-id="hero.gauche.cont">
    ...
  </div>
</div>
```

---

## 4.6 Modificateurs Visuels

Classes additionnelles pour les effets visuels :

| Classe | Effet |
|--------|-------|
| `.light` | Fond clair (alternance de blocs) |
| `.tailleGrande` | Boutons plus grands |
| `.video.light` | Vidéo avec fond clair |

**Usage** :
```css
.domaineDeCompetence.light {
  background: var(--CouleurClaire);
}
```

---

## 4.7 Consignes pour le Designer

1. **Cibler les classes racine** : `.hero`, `.profil`, `.temoignage`, etc.
2. **Utiliser data-layout** : `[data-layout="..."]` pour les grilles
3. **Respecter les types hiérarchiques** : voir spec canonique pour h1/h2/h3/p/n
4. **Un seul fichier** : `app/content-styles.css` pour les types de contenu
5. **Tokens dans globals.css** : couleurs, tailles, polices
6. **Ne pas modifier** les composants React — demander si structure inadaptée

### Fichiers à modifier

| Fichier | Usage |
|---------|-------|
| `app/content-styles.css` | Styles des types de contenu |
| `app/globals.css` | Tokens CSS (variables) |

### Fichiers à NE PAS modifier

- Composants React (`components/*.tsx`)
- Utils (`utils/*.ts`)
- Pages (`app/(main)/*.tsx`)

---

## 4.8 Référence Rapide : Types Hiérarchiques

| Type | Token | Taille | Usage |
|------|-------|--------|-------|
| `--h1` | `--enorme` | 2rem | hero.titre, titreDePage.texte |
| `--h2` | `--grande` | 1.5rem | hero.sousTitre, titre.texte, profil.titre |
| `--h3` | `--normale` | 1rem | competence.titre, temoignage.nom |
| `--p` | `--normale` | 1rem | description, contenu, temoignage |
| `--n` | `--petite` | 0.8rem | jobTitles, fonction, date, experienceEtApprentissage.description |
| `--lk` | `--normale` | 1rem | callToAction, ensavoirplus, bouton.command |
| `--a` | `--normale` | 1rem | auteur (italique) |

---

*Dernière mise à jour : 2 février 2026*
